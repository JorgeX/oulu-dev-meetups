---
import { getCollection, CollectionEntry } from 'astro:content';
import Meetup from '../../layouts/Meetup.astro';
import { getMeetupsCollectionName } from '../../content/config';

export async function getStaticPaths() {
  const collectionName = getMeetupsCollectionName();
  const meetups = await getCollection(collectionName);
  return meetups.map((meetup) => ({
    params: { slug: meetup.slug },
    props: meetup,
  }));
}
type Props = CollectionEntry<'meetups'>;

const meetup = Astro.props;
---

<Meetup {meetup} />
