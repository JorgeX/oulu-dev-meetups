---
import PageLayout from '../../layouts/PageLayout.astro';
import MeetupListItem from '../../components/MeetupListItem.astro';
import { sortMeetupsNewestFirst } from '../../utils';
import { getMeetups } from '../../get-meetups';

const meetups = await getMeetups();
const sortedMeetups = sortMeetupsNewestFirst(meetups);
---

<PageLayout>
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div
      class="mx-auto max-w-4xl rounded-xl border border-gray-400 bg-gray-50 p-8 sm:px-24"
    >
      <section>
        <ul role="list" class="divide-y divide-gray-100">
          {sortedMeetups.map((meetup) => <MeetupListItem meetup={meetup} />)}
        </ul>
      </section>
    </div>
  </div>
</PageLayout>
