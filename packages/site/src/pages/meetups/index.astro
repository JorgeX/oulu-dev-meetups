---
import Footer from '../../components/Footer.astro';
import Header from '../../components/Header.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts';
import BaseHead from '../../components/BaseHead.astro';
import { getCollection } from 'astro:content';

const meetups = await getCollection('meetups');
---

<head>
  <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
</head>
<body class="h-full">
  <div class="min-h-full">
    <Header />
    <div class="py-10">
      <main>
        <div class="mx-auto max-w-7xl px-4 py-24 sm:px-6 sm:py-32 lg:px-8">
          <div
            class="mx-auto max-w-4xl border border-gray-400 p-8 sm:px-24 bg-gray-50"
          >
            <h1 class="text-2xl text-center mb-4">Oulu developer meetups</h1>
            <main>
              <section>
                <ul>
                  {
                    meetups.map((meetup) => (
                      <li>
                        <p>
                          <a
                            href={`${import.meta.env.BASE_URL}meetups/${
                              meetup.slug
                            }`}
                          >
                            {meetup.data.time} / {meetup.data.name}
                          </a>
                        </p>
                      </li>
                    ))
                  }
                </ul>
              </section>
            </main>
          </div>
        </div>
      </main>
      <Footer />
    </div>
  </div>
</body>
