---
import Footer from '../../components/Footer.astro';
import Header from '../../components/Header.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts';
import BaseHead from '../../components/BaseHead.astro';
import { getCollection } from 'astro:content';
import MeetupListItem from '../../components/MeetupListItem.astro';

const meetups = await getCollection('meetups');
---

<head>
  <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
</head>
<body class="h-full">
  <div class="min-h-full">
    <Header />
    <div class="py-10">
      <main>
        <div class="mx-auto max-w-7xl px-4 py-24 sm:px-6 sm:py-32 lg:px-8">
          <h1 class="text-2xl text-center m-8">Oulu developer meetups</h1>
          <div
            class="mx-auto max-w-4xl border border-gray-400 rounded-xl p-8 sm:px-24 bg-gray-50"
          >
            <main>
              <section>
                <ul role="list" class="divide-y divide-gray-100">
                  {
                    meetups.map((meetup) => (
                      <MeetupListItem
                        name={meetup.data.name}
                        location={meetup.data.location}
                        time={meetup.data.time}
                        organizer={meetup.data.organizer}
                        slug={meetup.slug}
                      />
                    ))
                  }
                </ul>
              </section>
            </main>
          </div>
        </div>
      </main>
      <Footer />
    </div>
  </div>
</body>
